/*
********************************************************************************
* common.h
*
*   Author: AlexShi <shiweining123@gmail.com>
*
********************************************************************************
*/

#ifndef __COMMON_H
#define __COMMON_H

/*
********************************************************************************
* Included Files
********************************************************************************
*/

#include <stdio.h>
#include <stdlib.h>
#include <assert.h>
#include <math.h>

/*
********************************************************************************
* Pre-processor Definitions
********************************************************************************
*/

#define offsetof(type, member) ((size_t) &((type*)0)->member)
#if 0
#define container_of(ptr, type, member) ({          \
        const typeof( ((type *)0)->member ) *__mptr = (const typeof( ((type *)0)->member ) *)(ptr); \
        (type *)( (char *)__mptr - offsetof(type,member) );})
#else
#define container_of(ptr, type, member) ({ \
    (type *)((char *)(ptr) - (char *)(&((type *)0)->member)); \
    })
#endif

/*
********************************************************************************
* Shared Types
********************************************************************************
*/



/*
********************************************************************************
* Public Types
********************************************************************************
*/



/*
********************************************************************************
* Inline Functions
********************************************************************************
*/



/*
********************************************************************************
* Shared Data
********************************************************************************
*/



/*
********************************************************************************
* Public Data
********************************************************************************
*/



/*
********************************************************************************
* Public Function Prototypes
********************************************************************************
*/

#ifdef __cplusplus
#define EXTERN extern "C"
extern "C" {
#else
#define EXTERN extern
#endif

#undef EXTERN
#ifdef __cplusplus
}
#endif

#endif      /* __COMMON_H */

/*
********************************************************************************
* No More!
********************************************************************************
*/
